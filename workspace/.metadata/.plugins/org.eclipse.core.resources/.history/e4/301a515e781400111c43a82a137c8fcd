package com.somethingfurry.maps_and_then_some;
import processing.core.*;

import processing.opengl.*;
import codeanticode.glgraphics.*;
import de.fhpotsdam.unfolding.*;
import de.fhpotsdam.unfolding.geo.*;
import de.fhpotsdam.unfolding.utils.*;
import de.fhpotsdam.unfolding.providers.*;

public class HomelessMapProject extends PApplet {
//	An array of stripes
	Stripe[] stripes = new Stripe[50];
	de.fhpotsdam.unfolding.Map map;


	public void setup() {
		  size(800, 600, GLConstants.GLGRAPHICS);

		  map = new de.fhpotsdam.unfolding.Map(this, "map", 10, 10, 800, 600, true, false, new Google.GoogleMapProvider());
		  MapUtils.createDefaultEventDispatcher(this, map);
		  map.setTweening(false);
	}

	public void draw() {
		  background(0);

		  map.draw();

		  noStroke();
		  fill(215, 0, 0, 100);

		  // Shows geo-location at mouse position
		  Location location = map.getLocationFromScreenPosition(mouseX, mouseY);
		  text(location.toString(), mouseX, mouseY);

		  // Shows marker at Berlin location
		  Location loc = new Location(52.5f, 13.4f);
		  float xy[] = map.getScreenPositionFromLocation(loc);
		  ellipse(xy[0], xy[1], 20, 20);
		}
}


